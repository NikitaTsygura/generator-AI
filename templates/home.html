{% extends 'base.html' %}

{% block title %}Generator{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-3">üß† OpenAI –ß–∞—Ç</h1>

  {% if user.is_authenticated %}
    <p>üëã –í—ñ—Ç–∞—î–º–æ, {{ user.username }}!</p>
  {% else %}
    <p class="text-muted">–í–∏ –∑–∞—Ä–∞–∑ —è–∫ –≥—ñ—Å—Ç—å. <a href="{% url 'signup' %}">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è</a>, —â–æ–± –º–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é!</p>
  {% endif %}

  <form method="post" class="mb-4">
    {% csrf_token %}
    <div class="mb-3">
      {{ form.as_p }}
    </div>

    <label><input type="checkbox" name="options" value="text"> –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–µ–∫—Å—Ç</label><br>
    <label><input type="checkbox" name="options" value="image"> –û—Ç—Ä–∏–º–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label><br>

    <button type="submit" class="btn btn-primary">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
  </form>

  {% if response_text %}
    <div class="alert alert-success">
      <h4>–í—ñ–¥–ø–æ–≤—ñ–¥—å:</h4>
      <p>{{ response_text }}</p>
    </div>
  {% endif %}

  {% if response_image %}
    <div class="mt-3">
      <h4>–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è:</h4>
      <img src="{{ response_image }}" alt="AI –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è" class="img-thumbnail" width="256">
    </div>
  {% endif %}
</div>
{% endblock %}
